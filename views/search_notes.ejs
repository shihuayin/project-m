<!DOCTYPE html>
<html>
<head>
  <title>Search Notes</title>
  <link rel="stylesheet" type="text/css" href="/search_notes.css" />
</head>
<body>
  <h1>Search Notes</h1>
  <!-- search form -->
  <form action="/notes/search" method="get">
    <div class="form-group">
    <label for="category">Category:</label>
    <input type="text" name="category" value="<%= search ? search.category : '' %>" />
  </div>

  <div class="form-group">
    <label for="week">Week:</label>
    <select name="week">
      <option value="">Select Week</option>
      <% for (let i = 1; i <= 10; i++) { %>
        <option value="Week <%= i %>" <%= search && search.week === 'Week ' + i ? 'selected' : '' %>>Week <%= i %></option>
      <% } %>
    </select>
  </div>
    <button type="submit">Search</button>
  </form>

  <!-- search result -->
  <% if (typeof notes !== 'undefined' && notes.length > 0) { %>
    <ul>
      <% notes.forEach(function(note) { %>
        <li>
          <h3><%= note.title %> (Category: <%= note.category %>, Week: <%= note.week %>)</h3>
          <p><%= note.content %></p>
        </li>
      <% }); %>
    </ul>
  <% } else if (typeof notes !== 'undefined') { %>
    <p>No notes found.</p>
  <% } %>

  <a href="/notes">Back to Notes</a>
</body>
</html>
